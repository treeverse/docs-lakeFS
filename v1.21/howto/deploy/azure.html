

<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  <link rel="stylesheet" href="/v1.21/assets/css/just-the-docs-default.css">
  
  <style type="text/css">
.site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:not(.external):nth-child(3) > .nav-list > .nav-list-item:nth-child(1) > .nav-list > .nav-list-item:nth-child(2) > .nav-list-link { display: block; font-weight: 600; text-decoration: none; background-image: linear-gradient(-90deg, #ebedf5 0%, rgba(235, 237, 245, 0.8) 80%, rgba(235, 237, 245, 0) 100%); }

.site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:not(.passive):nth-child(3) > .nav-list-expander svg, .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:not(.passive):nth-child(3) > .nav-list > .nav-list-item:not(.passive):nth-child(1) > .nav-list-expander svg { transform: rotate(-90deg); }
.site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:not(.passive):nth-child(3) > .nav-list, .site-nav > .nav-list:nth-child(1):not(.nav-category-list) > .nav-list-item:not(.passive):nth-child(3) > .nav-list > .nav-list-item:not(.passive):nth-child(1) > .nav-list { display: block; }

.site-nav > .nav-category-list > .nav-list-item:not(.passive) > .nav-list-expander svg { transform: rotate(-90deg); }
.site-nav > .nav-category-list > .nav-list-item:not(.passive) > .nav-list { display: block; }

</style>


  

  
    <script src="/v1.21/assets/js/vendor/lunr.min.js"></script>
  

  <script src="/v1.21/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  

  <link rel="icon" href="/v1.21/favicon.ico" type="image/x-icon">



  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Azure | lakeFS Documentation</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="Azure" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="How to deploy and set up a production-suitable lakeFS environment on Microsoft Azure" />
<meta property="og:description" content="How to deploy and set up a production-suitable lakeFS environment on Microsoft Azure" />
<meta property="og:site_name" content="lakeFS Documentation" />
<meta property="og:image" content="https://docs.lakefs.io/assets/img/docs_logo.png" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:image" content="https://docs.lakefs.io/assets/img/docs_logo.png" />
<meta property="twitter:title" content="Azure" />
<meta name="twitter:site" content="@lakeFS" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"How to deploy and set up a production-suitable lakeFS environment on Microsoft Azure","headline":"Azure","image":"https://docs.lakefs.io/assets/img/docs_logo.png","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/v1.21/assets/logo.svg"}},"url":"/v1.21/howto/deploy/azure.html"}</script>
<!-- End Jekyll SEO tag -->


  <!-- Google Tag Manager Head -->
<!-- type="text/plain" is intentional for cookie consent support -->
<script type="text/plain" data-category="analytics">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KTZBZW9');</script>
<!-- End Google Tag Manager Head -->
<meta name="robots" content="noindex">
<meta property="og:image" content="/v1.21/assets/img/lakefs-logo-with-text.png">
<link rel="preload" href="/assets/fonts/Rene Bieder - Galano Grotesque.otf" as="font" type="font/otf" crossorigin>
<link rel="preload" href="/assets/fonts/Rene Bieder - Galano Grotesque Medium.otf" as="font" type="font/otf" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/fontawesome.min.css" integrity="sha512-giQeaPns4lQTBMRpOOHsYnGw1tGVzbAIHUyHRgn7+6FmiEgGGjaG0T2LZJmAPMzRCl+Cug0ItQ2xDZpTmEc+CQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0/dist/cookieconsent.css">
<link rel="stylesheet" href="/v1.21/assets/css/cookieconsent.css" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/themes/smoothness/jquery-ui.css">
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js"></script>
<script type="module" src="/v1.21/assets/js/cookieconsent-init.js"></script>
<script src="/v1.21/assets/js/copy-code.js"></script>
<script>
    $(function () {
        $(".tabs").tabs();
    });
</script>
<script src="/v1.21/assets/js/feedback.js"></script>
<link href="https://data-folks.masto.host/@lakeFS" rel="me">

</head>

<script src="https://unpkg.com/mermaid@9.3.0/dist/mermaid.min.js"></script>
<script>
    $(document).ready(function () {
        mermaid.initialize({
            startOnLoad:true,
            theme: "default",
        });
        window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid'));
    });
</script>
<body>
<img src="/assets/img/cookies.png" style="display: none;">
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KTZBZW9"
                  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="svg-link" viewBox="0 0 24 24">
        <title>Link</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
             stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
             class="feather feather-link">
            <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
            <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
        </svg>
    </symbol>
    <symbol id="svg-search" viewBox="0 0 24 24">
        <title>Search</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
             stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
             class="feather feather-search">
            <circle cx="11" cy="11" r="8"></circle>
            <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
    </symbol>
    <symbol id="svg-menu" viewBox="0 0 24 24">
        <title>Menu</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="16px" viewBox="0 0 20 16" version="1.1"
             class="feather feather-menu">
            <g id="Symbols" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <g id="header-/-mobile" transform="translate(-30.000000, -32.000000)" fill="#279890">
                    <g id="Group" transform="translate(30.000000, 32.000000)">
                        <path
                                d="M20,14 L20,16 L0,16 L0,14 L20,14 Z M20,7 L20,9 L0,9 L0,7 L20,7 Z M20,0 L20,2 L0,2 L0,0 L20,0 Z"
                                id="mobile-menu" />
                    </g>
                </g>
            </g>
        </svg>
    </symbol>
    <symbol id="svg-arrow-right" viewBox="0 0 24 24">
        <title>Expand</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
             stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
             class="feather feather-chevron-right">
            <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
    </symbol>
    <symbol id="svg-doc" viewBox="0 0 24 24">
        <title>Document</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
             stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
             class="feather feather-file">
            <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path>
            <polyline points="13 2 13 9 20 9"></polyline>
        </svg>
    </symbol>
</svg>
<div class="body-wrapper">
    <div class="side-bar">
        <div class="site-header">
            <a href="https://lakefs.io" class="site-title lh-tight">
  <div class="site-logo" role="img" aria-label="lakeFS Documentation"></div>

</a>
            <a href="#" id="menu-button" class="site-button">
                <svg viewBox="0 0 24 24" class="icon">
                    <use xlink:href="#svg-menu"></use>
                </svg>
            </a>
        </div>
        <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav">
            
            <div class="search">
                <div class="search-input-wrap">
                    <input type="text" id="search-input" class="search-input" tabindex="0"
                           placeholder="Search lakeFS Documentation" aria-label="Search lakeFS Documentation"
                           autocomplete="off">
                    <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon">
                            <use xlink:href="#svg-search"></use>
                        </svg></label>
                </div>
                <div id="search-results" class="search-results"></div>
            </div>
            

            <div class="nav-category nav-version">
                <label for="selectversion">Version:</label>
                <select id="selectversion" name="version" onchange="javascript:location.href = '/' + encodeURI(this.value);">
                    <option value="" selected>Latest</option>
                </select>
            </div>
            <script async>
                window.addEventListener("load",  async () => {
                    const pathFirstLevel = location.pathname.split('/')[1];
                    const selectedVersion = pathFirstLevel.startsWith('v') && pathFirstLevel || '';
                    const selectVersionElmFirst = document.getElementById('selectversion').firstElementChild;
                    const response = await fetch('/versions.json');
                    if (!response.ok) {
                        return
                    }
                    const versions = await response.json();
                    for (let [key, value] of Object.entries(versions)) {
                        const el = document.createElement("option");
                        el.value = key;
                        el.textContent = value;
                        if (key === selectedVersion) {
                            el.selected = true;
                        }
                        selectVersionElmFirst.after(el);
                    }
                });
            </script>

            <ul class="nav-list"><li
            class="nav-list-item"><a href="/v1.21/"
           class="nav-list-link">Welcome to lakeFS</a></li><li
            class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
                <use xlink:href="#svg-arrow-right"></use>
            </svg></a><a href="/v1.21/quickstart/"
           class="nav-list-link">⭐ Quickstart</a><ul class="nav-list "><li class="nav-list-item "><a href="/v1.21/quickstart/launch.html"
                   class="nav-list-link">1️⃣ Run lakeFS</a></li><li class="nav-list-item "><a href="/v1.21/quickstart/query.html"
                   class="nav-list-link">2️⃣ Query the data</a></li><li class="nav-list-item "><a href="/v1.21/quickstart/branch.html"
                   class="nav-list-link">3️⃣ Create a branch</a></li><li class="nav-list-item "><a href="/v1.21/quickstart/commit-and-merge.html"
                   class="nav-list-link">4️⃣ Commit and Merge</a></li><li class="nav-list-item "><a href="/v1.21/quickstart/rollback.html"
                   class="nav-list-link">5️⃣ Roll back Changes</a></li><li class="nav-list-item "><a href="/v1.21/quickstart/actions-and-hooks.html"
                   class="nav-list-link">6️⃣ Using Actions and Hooks in lakeFS</a></li><li class="nav-list-item "><a href="/v1.21/quickstart/work-with-data-locally.html"
                   class="nav-list-link">7️⃣ Work with lakeFS data locally</a></li><li class="nav-list-item "><a href="/v1.21/quickstart/learning-more-lakefs.html"
                   class="nav-list-link">Learn more about lakeFS</a></li></ul></li><li
            class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
                <use xlink:href="#svg-arrow-right"></use>
            </svg></a><a href="/v1.21/howto/"
           class="nav-list-link">How-To</a><ul class="nav-list "><li class="nav-list-item  active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
                        <use xlink:href="#svg-arrow-right"></use>
                    </svg></a><a href="/v1.21/howto/deploy/"
                   class="nav-list-link">Install lakeFS</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/v1.21/howto/deploy/aws.html"
                           class="nav-list-link">AWS</a>
                    </li><li class="nav-list-item  active">
                        <a href="/v1.21/howto/deploy/azure.html"
                           class="nav-list-link active">Azure</a>
                    </li><li class="nav-list-item ">
                        <a href="/v1.21/howto/deploy/gcp.html"
                           class="nav-list-link">GCP</a>
                    </li><li class="nav-list-item ">
                        <a href="/v1.21/howto/deploy/onprem.html"
                           class="nav-list-link">On-Premises</a>
                    </li><li class="nav-list-item ">
                        <a href="/v1.21/howto/deploy/upgrade.html"
                           class="nav-list-link">Upgrade lakeFS</a>
                    </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
                        <use xlink:href="#svg-arrow-right"></use>
                    </svg></a><a href="/v1.21/howto/hooks/"
                   class="nav-list-link">Actions and Hooks</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/v1.21/howto/hooks/airflow.html"
                           class="nav-list-link">Airflow Hooks</a>
                    </li><li class="nav-list-item ">
                        <a href="/v1.21/howto/hooks/lua.html"
                           class="nav-list-link">Lua Hooks</a>
                    </li><li class="nav-list-item ">
                        <a href="/v1.21/howto/hooks/webhooks.html"
                           class="nav-list-link">Webhooks</a>
                    </li></ul></li><li class="nav-list-item "><a href="/v1.21/howto/copying.html"
                   class="nav-list-link">Copying data to/from lakeFS</a></li><li class="nav-list-item "><a href="/v1.21/howto/catalog_exports.html"
                   class="nav-list-link">Data Catalogs Export</a></li><li class="nav-list-item "><a href="/v1.21/howto/export.html"
                   class="nav-list-link">Export Data</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
                        <use xlink:href="#svg-arrow-right"></use>
                    </svg></a><a href="/v1.21/howto/garbage-collection/"
                   class="nav-list-link">Garbage Collection</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/v1.21/howto/garbage-collection/gc.html"
                           class="nav-list-link">Garbage Collection</a>
                    </li><li class="nav-list-item ">
                        <a href="/v1.21/howto/garbage-collection/managed-gc.html"
                           class="nav-list-link">Managed Garbage Collection</a>
                    </li></ul></li><li class="nav-list-item "><a href="/v1.21/howto/import.html"
                   class="nav-list-link">Import Data</a></li><li class="nav-list-item "><a href="/v1.21/howto/migrate-away.html"
                   class="nav-list-link">Migrating away from lakeFS</a></li><li class="nav-list-item "><a href="/v1.21/howto/mirroring.html"
                   class="nav-list-link">Mirroring</a></li><li class="nav-list-item "><a href="/v1.21/howto/private-link.html"
                   class="nav-list-link">Private Link</a></li><li class="nav-list-item "><a href="/v1.21/howto/protect-branches.html"
                   class="nav-list-link">Protect Branches</a></li><li class="nav-list-item "><a href="/v1.21/howto/sizing-guide.html"
                   class="nav-list-link">Sizing Guide</a></li><li class="nav-list-item "><a href="/v1.21/howto/scim.html"
                   class="nav-list-link">System for Cross-domain Identity Management (SCIM)</a></li><li class="nav-list-item "><a href="/v1.21/howto/local-checkouts.html"
                   class="nav-list-link">Work with lakeFS data locally</a></li></ul></li><li
            class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
                <use xlink:href="#svg-arrow-right"></use>
            </svg></a><a href="/v1.21/integrations/"
           class="nav-list-link">Integrations</a><ul class="nav-list "><li class="nav-list-item "><a href="/v1.21/integrations/aws_cli.html"
                   class="nav-list-link">AWS CLI</a></li><li class="nav-list-item "><a href="/v1.21/integrations/airbyte.html"
                   class="nav-list-link">Airbyte</a></li><li class="nav-list-item "><a href="/v1.21/integrations/athena.html"
                   class="nav-list-link">Amazon Athena</a></li><li class="nav-list-item "><a href="/v1.21/integrations/sagemaker.html"
                   class="nav-list-link">Amazon SageMaker</a></li><li class="nav-list-item "><a href="/v1.21/integrations/airflow.html"
                   class="nav-list-link">Apache Airflow</a></li><li class="nav-list-item "><a href="/v1.21/integrations/hive.html"
                   class="nav-list-link">Apache Hive</a></li><li class="nav-list-item "><a href="/v1.21/integrations/iceberg.html"
                   class="nav-list-link">Apache Iceberg</a></li><li class="nav-list-item "><a href="/v1.21/integrations/kafka.html"
                   class="nav-list-link">Apache Kafka</a></li><li class="nav-list-item "><a href="/v1.21/integrations/spark.html"
                   class="nav-list-link">Apache Spark</a></li><li class="nav-list-item "><a href="/v1.21/integrations/cloudera.html"
                   class="nav-list-link">Cloudera</a></li><li class="nav-list-item "><a href="/v1.21/integrations/delta.html"
                   class="nav-list-link">Delta Lake</a></li><li class="nav-list-item "><a href="/v1.21/integrations/dremio.html"
                   class="nav-list-link">Dremio</a></li><li class="nav-list-item "><a href="/v1.21/integrations/duckdb.html"
                   class="nav-list-link">DuckDB</a></li><li class="nav-list-item "><a href="/v1.21/integrations/git.html"
                   class="nav-list-link">Git</a></li><li class="nav-list-item "><a href="/v1.21/integrations/glue_hive_metastore.html"
                   class="nav-list-link">Glue / Hive metastore</a></li><li class="nav-list-item "><a href="/v1.21/integrations/glue_metastore.html"
                   class="nav-list-link">Glue Data Catalog</a></li><li class="nav-list-item "><a href="/v1.21/integrations/huggingface_datasets.html"
                   class="nav-list-link">HuggingFace Datasets</a></li><li class="nav-list-item "><a href="/v1.21/integrations/kubeflow.html"
                   class="nav-list-link">Kubeflow</a></li><li class="nav-list-item "><a href="/v1.21/integrations/presto_trino.html"
                   class="nav-list-link">Presto / Trino</a></li><li class="nav-list-item "><a href="/v1.21/integrations/python.html"
                   class="nav-list-link">Python</a></li><li class="nav-list-item "><a href="/v1.21/integrations/r.html"
                   class="nav-list-link">R</a></li><li class="nav-list-item "><a href="/v1.21/integrations/unity-catalog.html"
                   class="nav-list-link">Unity Catalog</a></li><li class="nav-list-item "><a href="/v1.21/integrations/vertex_ai.html"
                   class="nav-list-link">Vertex AI</a></li></ul></li><li
            class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
                <use xlink:href="#svg-arrow-right"></use>
            </svg></a><a href="/v1.21/understand/"
           class="nav-list-link">Understanding lakeFS</a><ul class="nav-list "><li class="nav-list-item "><a href="/v1.21/understand/architecture.html"
                   class="nav-list-link">Architecture</a></li><li class="nav-list-item "><a href="/v1.21/understand/model.html"
                   class="nav-list-link">Concepts and  Model</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
                        <use xlink:href="#svg-arrow-right"></use>
                    </svg></a><a href="/v1.21/understand/data_lifecycle_management/"
                   class="nav-list-link">Data Lifecycle Management</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/v1.21/understand/data_lifecycle_management/ci.html"
                           class="nav-list-link">During Deployment</a>
                    </li><li class="nav-list-item ">
                        <a href="/v1.21/understand/data_lifecycle_management/production.html"
                           class="nav-list-link">In Production</a>
                    </li><li class="nav-list-item ">
                        <a href="/v1.21/understand/data_lifecycle_management/data-devenv.html"
                           class="nav-list-link">In Test</a>
                    </li></ul></li><li class="nav-list-item "><a href="/v1.21/understand/faq.html"
                   class="nav-list-link">FAQ</a></li><li class="nav-list-item "><a href="/v1.21/understand/glossary.html"
                   class="nav-list-link">Glossary</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
                        <use xlink:href="#svg-arrow-right"></use>
                    </svg></a><a href="/v1.21/understand/how/"
                   class="nav-list-link">How lakeFS Works</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/v1.21/understand/how/kv.html"
                           class="nav-list-link">Internal database structure</a>
                    </li><li class="nav-list-item ">
                        <a href="/v1.21/understand/how/merge.html"
                           class="nav-list-link">Merge</a>
                    </li><li class="nav-list-item ">
                        <a href="/v1.21/understand/how/versioning-internals.html"
                           class="nav-list-link">Versioning Internals</a>
                    </li></ul></li><li class="nav-list-item "><a href="/v1.21/understand/performance-best-practices.html"
                   class="nav-list-link">Performance Best Practices</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
                        <use xlink:href="#svg-arrow-right"></use>
                    </svg></a><a href="/v1.21/understand/use_cases/"
                   class="nav-list-link">Use Cases</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/v1.21/understand/use_cases/cicd_for_data.html"
                           class="nav-list-link">CI/CD for Data Lakes</a>
                    </li><li class="nav-list-item ">
                        <a href="/v1.21/understand/use_cases/etl_testing.html"
                           class="nav-list-link">ETL Testing Environment</a>
                    </li><li class="nav-list-item ">
                        <a href="/v1.21/understand/use_cases/reproducibility.html"
                           class="nav-list-link">Reproducibility</a>
                    </li><li class="nav-list-item ">
                        <a href="/v1.21/understand/use_cases/rollback.html"
                           class="nav-list-link">Rollback</a>
                    </li></ul></li><li class="nav-list-item "><a href="/v1.21/understand/lakefs-cloud.html"
                   class="nav-list-link">lakeFS Cloud</a></li><li class="nav-list-item "><a href="/v1.21/understand/lakefs-enterprise.html"
                   class="nav-list-link">lakeFS Enterprise</a></li></ul></li><li
            class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
                <use xlink:href="#svg-arrow-right"></use>
            </svg></a><a href="/v1.21/reference/"
           class="nav-list-link">Reference</a><ul class="nav-list "><li class="nav-list-item "><a href="/v1.21/reference/auditing.html"
                   class="nav-list-link">Auditing</a></li><li class="nav-list-item "><a href="/v1.21/reference/monitor.html"
                   class="nav-list-link">Monitoring using Prometheus</a></li><li class="nav-list-item "><a href="/v1.21/reference/s3.html"
                   class="nav-list-link">S3 Gateway API</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
                        <use xlink:href="#svg-arrow-right"></use>
                    </svg></a><a href="/v1.21/reference/security/"
                   class="nav-list-link">Security</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/v1.21/reference/security/access-control-lists.html"
                           class="nav-list-link">Access Control Lists (ACLs)</a>
                    </li><li class="nav-list-item ">
                        <a href="/v1.21/reference/security/authentication.html"
                           class="nav-list-link">Authentication</a>
                    </li><li class="nav-list-item ">
                        <a href="/v1.21/reference/security/external-principals-aws.html"
                           class="nav-list-link">Login to lakeFS with AWS IAM Roles</a>
                    </li><li class="nav-list-item ">
                        <a href="/v1.21/reference/security/presigned-url.html"
                           class="nav-list-link">Presigned URL</a>
                    </li><li class="nav-list-item ">
                        <a href="/v1.21/reference/security/remote-authenticator.html"
                           class="nav-list-link">Remote Authenticator</a>
                    </li><li class="nav-list-item ">
                        <a href="/v1.21/reference/security/rbac.html"
                           class="nav-list-link">Role-Based Access Control (RBAC)</a>
                    </li><li class="nav-list-item ">
                        <a href="/v1.21/reference/security/sts-login.html"
                           class="nav-list-link">Short-lived token (STS like) Authentication for lakeFS</a>
                    </li><li class="nav-list-item ">
                        <a href="/v1.21/reference/security/sso.html"
                           class="nav-list-link">Single Sign On (SSO)</a>
                    </li></ul></li><li class="nav-list-item "><a href="/v1.21/reference/spark-client.html"
                   class="nav-list-link">Spark Client</a></li><li class="nav-list-item "><a href="/v1.21/reference/api.html"
                   class="nav-list-link">lakeFS API</a></li><li class="nav-list-item "><a href="/v1.21/reference/configuration.html"
                   class="nav-list-link">lakeFS Server Configuration</a></li><li class="nav-list-item "><a href="/v1.21/reference/cli.html"
                   class="nav-list-link">lakectl (lakeFS command-line tool)</a></li></ul></li><li
            class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
                <use xlink:href="#svg-arrow-right"></use>
            </svg></a><a href="/v1.21/project/"
           class="nav-list-link">The lakeFS Project</a><ul class="nav-list "><li class="nav-list-item "><a href="/v1.21/project/contributing.html"
                   class="nav-list-link">Contributing to lakeFS</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24">
                        <use xlink:href="#svg-arrow-right"></use>
                    </svg></a><a href="/v1.21/project/docs/"
                   class="nav-list-link">Documentation</a><ul class="nav-list"><li class="nav-list-item ">
                        <a href="/v1.21/project/docs/callouts.html"
                           class="nav-list-link">Callouts</a>
                    </li></ul></li><li class="nav-list-item "><a href="/v1.21/project/code-migrate-1.0-sdk.html"
                   class="nav-list-link">Migrating to 1.0</a></li></ul></li></ul>
            <div class="mobile-menu">
                
<nav aria-label="Auxiliary" class="aux-nav">
    <ul class="aux-nav-list">
        
        
        <li class="aux-nav-list-item">
            <a href="https://docs.lakefs.io/" class="site-button" >
                Docs
            </a>
        </li>
        
        <li class="aux-nav-list-item">
            <a href="https://lakefs.io/blog/" class="site-button" >
                Blog
            </a>
        </li>
        
        <li class="aux-nav-list-item">
            <a href="https://lakefs.io/community/" class="site-button" >
                Community
            </a>
        </li>
        
        <li class="aux-nav-list-item">
            <a href="https://github.com/treeverse/lakeFS" class="site-button" >
                GitHub
            </a>
        </li>
        
        
        
        
        <li class="aux-nav-list-item button">
            <a href="https://lakefs.io/slack" class="site-button" >
                Join us on Slack
            </a>
        </li>
        
        
    </ul>
</nav>

            </div>
        </nav>

    </div>
    <div class="main" id="top">
         <div class="feedback-container">
            <div id="is-helpful-ty">
                <div class="text-epsilon">Thank you for your feedback.</div>
                <div class="mt-2 text-epsilon">
                    <a href="https://lakefs.io/slack" target="_blank">Join the community</a> to get more help.
                </div>
            </div>
            <div class="feedback-buttons">
                <span class="tooltip">
                    <button class="page-helpful-btn far fa-lg fa-thumbs-up" id="page-helpful-yes"></button>
                    <span class="tooltiptext">
                        This page is <b>helpful</b>
                    </span>
                </span>
                <span class="tooltip">
                    <button class="page-helpful-btn far fa-lg fa-thumbs-down" id="page-helpful-no"></button>
                    <span class="tooltiptext">
                        This page is <b>not helpful</b>
                    </span>
                </span>
            </div>
        </div>
        <div id="main-header" class="main-header">
            
<nav aria-label="Auxiliary" class="aux-nav">
    <ul class="aux-nav-list">
        
        
        <li class="aux-nav-list-item">
            <a href="https://docs.lakefs.io/" class="site-button" >
                Docs
            </a>
        </li>
        
        <li class="aux-nav-list-item">
            <a href="https://lakefs.io/blog/" class="site-button" >
                Blog
            </a>
        </li>
        
        <li class="aux-nav-list-item">
            <a href="https://lakefs.io/community/" class="site-button" >
                Community
            </a>
        </li>
        
        <li class="aux-nav-list-item">
            <a href="https://github.com/treeverse/lakeFS" class="site-button" >
                GitHub
            </a>
        </li>
        
        
        
        
        <li class="aux-nav-list-item button">
            <a href="https://lakefs.io/slack" class="site-button" >
                Join us on Slack
            </a>
        </li>
        
        
    </ul>
</nav>

        </div>
        <div id="main-content-wrap" class="main-content-wrap">
            
            
            <nav aria-label="Breadcrumb" class="breadcrumb-nav">
                <ol class="breadcrumb-nav-list">
                    
                    <li class="breadcrumb-nav-list-item"><a
                                href="/v1.21/howto/">How-To</a>
                    </li>
                    <li class="breadcrumb-nav-list-item"><a href="/v1.21/howto/deploy/">Install lakeFS</a>
                    </li>
                    
                    <li class="breadcrumb-nav-list-item"><span>Azure</span></li>
                </ol>
            </nav>
            
            
            <div id="main-content" class="main-content" role="main">
                
                    <h1 id="deploy-lakefs-on-azure">
  
  
    <a href="#deploy-lakefs-on-azure" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Deploy lakeFS on Azure
  
  
</h1>
    

<blockquote class="tip">
  <p>The instructions given here are for a self-managed deployment of lakeFS on Azure.</p>

  <p>For a hosted lakeFS service with guaranteed SLAs, try <a href="https://lakefs.cloud">lakeFS Cloud</a></p>
</blockquote>

<p>When you deploy lakeFS on Azure these are the options available to use:</p>

<p><img src="/assets/img/deploy/deploy-on-azure.excalidraw.png" alt="" /></p>

<p>This guide walks you through the options available and how to configure them, finishing with configuring and running lakeFS itself and creating your first repository.</p>

<div class="toc-block">
<h2 class="no_toc text-delta" id="table-of-contents">
  
  
    <a href="#table-of-contents" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of contents
  
  
</h2>
    

<ol id="markdown-toc">
  <li><a href="#1-object-storage" id="markdown-toc-1-object-storage">1. Object Storage</a></li>
  <li><a href="#2-authentication-method" id="markdown-toc-2-authentication-method">2. Authentication Method</a></li>
  <li><a href="#3-kv-store" id="markdown-toc-3-kv-store">3. K/V Store</a></li>
  <li><a href="#4-run-the-lakefs-server" id="markdown-toc-4-run-the-lakefs-server">4. Run the lakeFS server</a></li>
  <li><a href="#create-the-admin-user" id="markdown-toc-create-the-admin-user">Create the admin user</a></li>
  <li><a href="#create-your-first-repository" id="markdown-toc-create-your-first-repository">Create your first repository</a></li>
</ol>

</div>

<p class="note">⏰ Expected deployment time: 25 min</p>
<h2 id="1-object-storage">
  
  
    <a href="#1-object-storage" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1. Object Storage
  
  
</h2>
    

<p>lakeFS supports the following <a href="https://learn.microsoft.com/en-us/azure/storage/common/storage-introduction">Azure Storage</a> types:</p>

<ol>
  <li><a href="https://azure.microsoft.com/en-gb/products/storage/blobs">Azure Blob Storage</a></li>
  <li><a href="https://learn.microsoft.com/en-us/azure/storage/blobs/data-lake-storage-introduction">Azure Data Lake Storage Gen2</a> (<a href="https://learn.microsoft.com/en-us/azure/storage/blobs/data-lake-storage-namespace">HNS</a>)</li>
</ol>

<p>Data Lake Storage Gen1 is not supported.</p>
<h2 id="2-authentication-method">
  
  
    <a href="#2-authentication-method" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2. Authentication Method
  
  
</h2>
    

<p>lakeFS supports two ways to authenticate with Azure.</p>

<div class="tabs">
  <ul>
    <li><a href="#iba">Identity Based Authentication (recommended)</a></li>
    <li><a href="#sac">Storage Account Credentials</a></li>
  </ul>

  <div id="iba">

    <p>lakeFS uses environment variables to determine credentials to use for authentication. The following authentication methods are supported:</p>

    <ol>
      <li>Managed Service Identity (MSI)</li>
      <li>Service Principal RBAC</li>
      <li>Azure CLI</li>
    </ol>

    <p>For deployments inside the Azure ecosystem it is recommended to use a managed identity.</p>

    <p>More information on authentication methods and environment variables can be found <a href="https://learn.microsoft.com/en-us/azure/developer/go/azure-sdk-authentication">here</a></p>
<h3 id="how-to-create-service-principal-for-resource-group">
  
  
    <a href="#how-to-create-service-principal-for-resource-group" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> How to Create Service Principal for Resource Group
  
  
</h3>
    

    <p>It is recommended to create a resource group that consists of all the resources lakeFS should have access to.</p>

    <p>Using a resource group will allow dynamic removal/addition of services from the group, effectively providing/preventing access for lakeFS to these resources without requiring any changes in configuration in lakeFS or providing lakeFS with any additional credentials.</p>

    <p>The minimal role required for the service principal is “Storage Blob Data Contributor”</p>

    <p>The following Azure CLI command creates a service principal for a resource group called “lakeFS” with permission to access (read/write/delete)
Blob Storage resources in the resource group and with an expiry of 5 years</p>

    <div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>az ad sp create-for-rbac <span class="se">\</span>
  <span class="nt">--role</span> <span class="s2">"Storage Blob Data Contributor"</span> <span class="se">\</span>
  <span class="nt">--scopes</span> /subscriptions/XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX/resourceGroups/lakeFS <span class="nt">--years</span> 5
    
Creating <span class="s1">'Storage Blob Data Contributor'</span> role assignment under scope <span class="s1">'/subscriptions/947382ea-681a-4541-99ab-b718960c6289/resourceGroups/lakeFS'</span>
The output includes credentials that you must protect. Be sure that you <span class="k">do </span>not include these credentials <span class="k">in </span>your code or check the credentials into your <span class="nb">source </span>control. For more information, see https://aka.ms/azadsp-cli
<span class="o">{</span>
  <span class="s2">"appId"</span>: <span class="s2">"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"</span>,
  <span class="s2">"displayName"</span>: <span class="s2">"azure-cli-2023-01-30-06-18-30"</span>,
  <span class="s2">"password"</span>: <span class="s2">"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"</span>,
  <span class="s2">"tenant"</span>: <span class="s2">"XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"</span>
<span class="o">}</span>
</code></pre></div>    </div>

    <p>The command output should be used to populate the following environment variables:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>AZURE_CLIENT_ID      =  $appId
AZURE_TENANT_ID      =  $tenant
AZURE_CLIENT_SECRET  =  $password
</code></pre></div>    </div>

    <p class="note"><strong>Note:</strong> Service Principal credentials have an expiry date and lakeFS will lose access to resources unless credentials are renewed on time.</p>

    <p class="note"><strong>Note:</strong> It is possible to provide both account based credentials and environment variables to lakeFS. In that case - lakeFS will use
the account credentials for any access to data located in the given account, and will try to use the identity credentials for any data located outside the given account.</p>

  </div>

  <div id="sac">

    <p>Storage account credentials can be set directly in the lakeFS configuration using the following parameters:</p>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">blockstore.azure.storage_account</code></li>
      <li><code class="language-plaintext highlighter-rouge">blockstore.azure.storage_access_key</code></li>
    </ul>
<h3 id="limitations">
  
  
    <a href="#limitations" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Limitations
  
  
</h3>
    

    <p>Please note that using this authentication method limits lakeFS to the scope of the given storage account.</p>

    <p>Specifically, <strong>the following operations will not work</strong>:</p>

    <ol>
      <li>Import of data from different storage accounts</li>
      <li>Copy/Read/Write of data that was imported from a different storage account</li>
      <li>Create pre-signed URL for data that was imported from a different storage account</li>
    </ol>

  </div>
</div>
<h2 id="3-kv-store">
  
  
    <a href="#3-kv-store" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3. K/V Store
  
  
</h2>
    

<p>lakeFS stores metadata in a database for its versioning engine. This is done via a Key-Value interface that can be implemented on any DB engine and lakeFS comes with several built-in driver implementations (You can read more about it <a href="https://docs.lakefs.io/understand/how/kv.html">here</a>). The database used doesn’t <em>have</em> to be a dedicated K/V database.</p>

<div class="tabs">
  <ul>
    <li><a href="#cosmosdb">CosmosDB (Beta)</a></li>
    <li><a href="#postgres">PostgreSQL</a></li>
  </ul>
  <div id="cosmosdb">

    <p><a href="https://azure.microsoft.com/en-us/products/cosmos-db/">CosmosDB</a> is a managed database service provided by Azure. lakeFS supports <a href="https://learn.microsoft.com/en-GB/azure/cosmos-db/nosql/">CosmosDB For NoSQL</a> as a database backend.</p>

    <ol>
      <li>Follow the official <a href="https://learn.microsoft.com/en-us/azure/cosmos-db/nosql/how-to-create-account?tabs=azure-cli">Azure documentation</a> 
on how to create a CosmosDB account for NoSQL and connect to it.</li>
      <li>Once your CosmosDB account is set up, you can create a Database for 
lakeFS. For lakeFS ACID guarantees, make sure to select the <a href="https://learn.microsoft.com/en-us/azure/cosmos-db/consistency-levels#bounded-staleness-consistency">Bounded 
staleness consistency</a>,
for single region deployments.</li>
      <li>Create a new container in the database and select type 
<code class="language-plaintext highlighter-rouge">partitionKey</code> as the Partition key (case sensitive).</li>
      <li>Pass the endpoint, database name and container name to lakeFS as 
described in the <a href="/reference/configuration.html#example-azure-blob-storage">configuration guide</a>.
You can either pass the CosmosDB’s account read-write key to lakeFS, or 
use a managed identity to authenticate to CosmosDB, as described 
<a href="#identity-based-credentials">earlier</a>.</li>
    </ol>

    <p class="note">A note on CosmosDB capacity modes: lakeFS usage of CosmosDB is still in its 
early days and has not been battle tested. Both capacity modes, Provisioned 
and Serverless, has been tested for some workloads and passed with flying 
colors. The Provisioned mode was configured with 400-4000 RU/s.</p>

  </div>
  <div id="postgres">

    <p>Below we show you how to create a database on Azure Database, but you can use any PostgreSQL database as long as it’s accessible by your lakeFS installation.</p>

    <p>If you already have a database, take note of the connection string and skip to the <a href="#run-the-lakefs-server">next step</a></p>

    <ol>
      <li>Follow the official <a href="https://docs.microsoft.com/en-us/azure/postgresql/quickstart-create-server-database-portal" target="_blank">Azure documentation</a> on how to create a PostgreSQL instance and connect to it.
Make sure that you’re using PostgreSQL version &gt;= 11.</li>
      <li>Once your Azure Database for PostgreSQL server is set up and the server is in the <em>Available</em> state, take note of the endpoint and username.
<img src="/v1.21/assets/img/azure_postgres_conn.png" alt="Azure postgres Connection String" /></li>
      <li>Make sure your Access control roles allow you to connect to the database instance.</li>
    </ol>

  </div>
</div>
<h2 id="4-run-the-lakefs-server">
  
  
    <a href="#4-run-the-lakefs-server" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4. Run the lakeFS server
  
  
</h2>
    

<p>Now that you’ve chosen and configured object storage, a K/V store, and authentication—you’re ready to configure and run lakeFS. There are three different ways you can run lakeFS:</p>

<div class="tabs">
  <ul>
    <li><a href="#vm">Azure VM</a></li>
    <li><a href="#docker">Docker</a></li>
    <li><a href="#aks">Azure Kubernetes Service (AKS)</a></li>
  </ul>
  <div id="vm">

    <p>Connect to your VM instance using SSH:</p>

    <ol>
      <li>
        <p>Create a <code class="language-plaintext highlighter-rouge">config.yaml</code> on your VM, with the following parameters:</p>

        <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">---</span>
<span class="na">database</span><span class="pi">:</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s2">"</span><span class="s">postgres"</span>
  <span class="na">postgres</span><span class="pi">:</span>
    <span class="na">connection_string</span><span class="pi">:</span> <span class="s2">"</span><span class="s">[DATABASE_CONNECTION_STRING]"</span>
  
<span class="na">auth</span><span class="pi">:</span>
  <span class="na">encrypt</span><span class="pi">:</span>
    <span class="c1"># replace this with a randomly-generated string. Make sure to keep it safe!</span>
    <span class="na">secret_key</span><span class="pi">:</span> <span class="s2">"</span><span class="s">[ENCRYPTION_SECRET_KEY]"</span>
   
<span class="na">blockstore</span><span class="pi">:</span>
  <span class="na">type</span><span class="pi">:</span> <span class="s">azure</span>
  <span class="na">azure</span><span class="pi">:</span>
</code></pre></div>        </div>
      </li>
      <li><a href="/#downloads">Download the binary</a> to run on the VM.</li>
      <li>
        <p>Run the <code class="language-plaintext highlighter-rouge">lakefs</code> binary:</p>

        <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lakefs <span class="nt">--config</span> config.yaml run
</code></pre></div>        </div>
      </li>
    </ol>

    <p class="note"><strong>Note:</strong> It’s preferable to run the binary as a service using systemd or your operating system’s facilities.</p>

  </div>
  <div id="docker">

    <p>To support container-based environments, you can configure lakeFS using environment variables. Here is a <code class="language-plaintext highlighter-rouge">docker run</code>
command to demonstrate starting lakeFS using Docker:</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="se">\</span>
  <span class="nt">--name</span> lakefs <span class="se">\</span>
  <span class="nt">-p</span> 8000:8000 <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">LAKEFS_DATABASE_TYPE</span><span class="o">=</span><span class="s2">"postgres"</span> <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">LAKEFS_DATABASE_POSTGRES_CONNECTION_STRING</span><span class="o">=</span><span class="s2">"[DATABASE_CONNECTION_STRING]"</span> <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">LAKEFS_AUTH_ENCRYPT_SECRET_KEY</span><span class="o">=</span><span class="s2">"[ENCRYPTION_SECRET_KEY]"</span> <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">LAKEFS_BLOCKSTORE_TYPE</span><span class="o">=</span><span class="s2">"azure"</span> <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">LAKEFS_BLOCKSTORE_AZURE_STORAGE_ACCOUNT</span><span class="o">=</span><span class="s2">"[YOUR_STORAGE_ACCOUNT]"</span> <span class="se">\</span>
  <span class="nt">-e</span> <span class="nv">LAKEFS_BLOCKSTORE_AZURE_STORAGE_ACCESS_KEY</span><span class="o">=</span><span class="s2">"[YOUR_ACCESS_KEY]"</span> <span class="se">\</span>
  treeverse/lakefs:latest run
</code></pre></div>    </div>

    <p>See the <a href="/reference/configuration.html#using-environment-variables %}">reference</a> for a complete list of environment variables.</p>

  </div>
  <div id="aks">

    <p>You can install lakeFS on Kubernetes using a <a href="https://github.com/treeverse/charts/tree/master/charts/lakefs">Helm chart</a>.</p>

    <p>To install lakeFS with Helm:</p>

    <ol>
      <li>
        <p>Copy the Helm values file relevant for Azure Blob:</p>

        <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">secrets</span><span class="pi">:</span>
    <span class="c1"># replace this with the connection string of the database you created in a previous step:</span>
    <span class="na">databaseConnectionString</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">DATABASE_CONNECTION_STRING</span><span class="pi">]</span>
    <span class="c1"># replace this with a randomly-generated string</span>
    <span class="na">authEncryptSecretKey</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">ENCRYPTION_SECRET_KEY</span><span class="pi">]</span>
<span class="na">lakefsConfig</span><span class="pi">:</span> <span class="pi">|</span>
    <span class="s">blockstore:</span>
      <span class="s">type: azure</span>
      <span class="s">azure:</span>
    <span class="s">#  If you chose to authenticate via access key, unmark the following rows and insert the values from the previous step </span>
    <span class="s">#  storage_account: [your storage account]</span>
    <span class="s">#  storage_access_key: [your access key]</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>Fill in the missing values and save the file as <code class="language-plaintext highlighter-rouge">conf-values.yaml</code>. For more configuration options, see our Helm chart <a href="https://github.com/treeverse/charts/blob/master/charts/lakefs/README.md#custom-configuration" target="_blank">README</a>.</p>

        <p class="note">The <code class="language-plaintext highlighter-rouge">lakefsConfig</code> parameter is the lakeFS configuration documented <a href="https://docs.lakefs.io/reference/configuration.html">here</a> but without sensitive information.
Sensitive information like <code class="language-plaintext highlighter-rouge">databaseConnectionString</code> is given through separate parameters, and the chart will inject it into Kubernetes secrets.</p>
      </li>
      <li>
        <p>In the directory where you created <code class="language-plaintext highlighter-rouge">conf-values.yaml</code>, run the following commands:</p>

        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Add the lakeFS repository</span>
helm repo add lakefs https://charts.lakefs.io
<span class="c"># Deploy lakeFS</span>
helm <span class="nb">install </span>my-lakefs lakefs/lakefs <span class="nt">-f</span> conf-values.yaml
</code></pre></div>        </div>

        <p><em>my-lakefs</em> is the <a href="https://helm.sh/docs/intro/using_helm/#three-big-concepts">Helm Release</a> name.</p>
      </li>
    </ol>
<h3 id="load-balancing">
  
  
    <a href="#load-balancing" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Load balancing
  
  
</h3>
    

    <p>To configure a load balancer to direct requests to the lakeFS servers you can use the <code class="language-plaintext highlighter-rouge">LoadBalancer</code> Service type or a Kubernetes Ingress.
By default, lakeFS operates on port 8000 and exposes a <code class="language-plaintext highlighter-rouge">/_health</code> endpoint that you can use for health checks.</p>

    <p class="note">💡 The NGINX Ingress Controller by default limits the client body size to 1 MiB.
Some clients use bigger chunks to upload objects - for example, multipart upload to lakeFS using the <a href="/understand/architecture.html#s3-gateway">S3-compatible Gateway</a> or 
a simple PUT request using the <a href="/understand/architecture.html#openapi-server">OpenAPI Server</a>.
Check out Nginx <a href="https://kubernetes.github.io/ingress-nginx/user-guide/nginx-configuration/annotations/#custom-max-body-size">documentation</a> for increasing the limit, or an example of Nginx configuration with <a href="https://docs.min.io/docs/setup-nginx-proxy-with-minio.html">MinIO</a>.</p>

  </div>
</div>
<h2 id="create-the-admin-user">
  
  
    <a href="#create-the-admin-user" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Create the admin user
  
  
</h2>
    

<p>When you first open the lakeFS UI, you will be asked to create an initial admin user.</p>

<ol>
  <li>Open <code class="language-plaintext highlighter-rouge">http://&lt;lakefs-host&gt;/</code> in your browser. If you haven’t set up a load balancer, this will likely be <code class="language-plaintext highlighter-rouge">http://&lt;instance ip address&gt;:8000/</code></li>
  <li>
    <p>On first use, you’ll be redirected to the setup page:</p>

    <p><img src="/v1.21/assets/img/setup.png" alt="Create user" /></p>
  </li>
  <li>
    <p>Follow the steps to create an initial administrator user. Save the credentials you’ve received somewhere safe, you won’t be able to see them again!</p>

    <p><img src="/v1.21/assets/img/setup_done.png" alt="Setup Done" /></p>
  </li>
  <li>Follow the link and go to the login screen. Use the credentials from the previous step to log in.</li>
</ol>
<h2 id="create-your-first-repository">
  
  
    <a href="#create-your-first-repository" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Create your first repository
  
  
</h2>
    

<ol>
  <li>Use the credentials from the previous step to log in</li>
  <li>
    <p>Click <em>Create Repository</em> and choose <em>Blank Repository</em>.</p>

    <p><img src="/v1.21/assets/img/create-repo-no-sn.png" alt="Create Repo" /></p>
  </li>
  <li>Under Storage Namespace, enter a path to your desired location on the object store. This is where data written to this repository will be stored.</li>
  <li>Click <em>Create Repository</em></li>
  <li>
    <p>You should now have a configured repository, ready to use!</p>

    <p><img src="/v1.21/assets/img/repo-created.png" alt="Repo Created" style="border: 1px solid #DDDDDD;" /></p>
  </li>
</ol>

<p class="note"><strong>Congratulations!</strong> Your environment is now ready 🤩</p>

                

                
                

                
                <div style="float: right" class="mt-5">

                    <a type="button" class="btn btn-green" href="/howto/import.html">
                        Next: Import data into your installation <i class="fa fa-solid fa-arrow-right"></i>
                    </a>
                </div>
                

            </div>
        </div>

        
        

        <div class="search-overlay"></div>
        
    </div>
</div>

<footer>
    <div class="footer-sidebar"></div>
    <div class="footer-main">
        <div class="row">
            <div class="left">
                <ul class="footer-links">
                    
                    
                    <li class="aux-nav-list-item">
                        <a href="https://docs.lakefs.io/" class="site-button" >
                            Docs
                        </a>
                    </li>
                    
                    <li class="aux-nav-list-item">
                        <a href="https://lakefs.io/blog/" class="site-button" >
                            Blog
                        </a>
                    </li>
                    
                    <li class="aux-nav-list-item">
                        <a href="https://github.com/treeverse/lakeFS" class="site-button" >
                            GitHub
                        </a>
                    </li>
                    
                    <li class="aux-nav-list-item">
                        <a href="https://lakefs.io/community/" class="site-button" >
                            Community
                        </a>
                    </li>
                    
                    <li class="aux-nav-list-item">
                        <a href="https://lakefs.io/cloud-registration/" class="site-button" >
                            lakeFS Cloud
                        </a>
                    </li>
                    
                    <li class="aux-nav-list-item">
                        <a href="https://lakefs.io/contact-us/" class="site-button" >
                            Contact
                        </a>
                    </li>
                    
                    
                </ul>
            </div>
            <div class="right">
                <ul class="footer-social">
                    
                    
                    <li class="aux-nav-list-item">
                        <a href="https://lakefs.io/youtube" class="site-button" >
                            <img src="/v1.21/assets/icons/youtube.svg" class="no-hover" />
                            <img src="/v1.21/assets/icons/youtube-hover.svg" class="hover" />
                        </a>
                    </li>
                    
                    <li class="aux-nav-list-item">
                        <a href="https://www.linkedin.com/company/treeverse" class="site-button" >
                            <img src="/v1.21/assets/icons/linkedin.svg" class="no-hover" />
                            <img src="/v1.21/assets/icons/linkedin-hover.svg" class="hover" />
                        </a>
                    </li>
                    
                    <li class="aux-nav-list-item">
                        <a href="https://github.com/treeverse/lakeFS" class="site-button" >
                            <img src="/v1.21/assets/icons/github.svg" class="no-hover" />
                            <img src="/v1.21/assets/icons/github-hover.svg" class="hover" />
                        </a>
                    </li>
                    
                    <li class="aux-nav-list-item">
                        <a href="https://twitter.com/lakeFS" class="site-button" >
                            <img src="/v1.21/assets/icons/twitter.svg" class="no-hover" />
                            <img src="/v1.21/assets/icons/twitter-hover.svg" class="hover" />
                        </a>
                    </li>
                    
                    <li class="aux-nav-list-item">
                        <a href="https://data-folks.masto.host/@lakeFS" class="site-button" >
                            <img src="/v1.21/assets/icons/mastodon.svg" class="no-hover" />
                            <img src="/v1.21/assets/icons/mastodon-hover.svg" class="hover" />
                        </a>
                    </li>
                    
                    <li class="aux-nav-list-item">
                        <a href="https://lakefs.io/slack" class="site-button" >
                            <img src="/v1.21/assets/icons/slack.svg" class="no-hover" />
                            <img src="/v1.21/assets/icons/slack-hover.svg" class="hover" />
                        </a>
                    </li>
                    
                    
                </ul>
            </div>
        </div>
        <div class="row top-border">
            <div class="left">
                <a href="https://lakefs.io" class="lh-tight" style="margin-bottom: 0px;">
                    <div class="site-logo"></div>
                </a>                    
            </div>
            <div class="right">
                <ul class="bottom-footer-links">
                    
                    
                    <li class="aux-nav-list-item">
                        <a href="https://lakefs.io/terms-of-use/" class="site-button" >
                            Terms of use
                        </a>
                    </li>
                    
                    <li class="aux-nav-list-item">
                        <a href="https://lakefs.io/privacy-policy/" class="site-button" >
                            Privacy Policy
                        </a>
                    </li>
                    
                    
                </ul>
            </div>
        </div>
    </div>
</footer>


</body>

</html>

